{"version":3,"sources":["../../../../assets/script/assets/script/BgRandomMove.js"],"names":["cc","Class","extends","Component","properties","totalX","totalY","speed","offset","randomMove","dt","pLength","p","randomDir","pMult","pNormalize","randomMinus1To1","moveDir","pAdd","action","repeatForever","sequence","moveBy","node","runAction","onLoad"],"mappings":";;;;;;AAEAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACRC,gBAAQ,CADA;AAERC,gBAAQ,CAFA;AAGRC,eAAO,EAHC;AAIRC,gBAAQ;AAJA,KAHP;;AAUL;AACAC,gBAAY,sBAAW;AACnB,YAAIC,KAAKV,GAAGW,OAAH,CAAWX,GAAGY,CAAH,CAAK,KAAKP,MAAV,EAAkB,KAAKC,MAAvB,CAAX,IAA6C,KAAKC,KAA3D;AACA,YAAIM,YAAYb,GAAGc,KAAH,CAASd,GAAGe,UAAH,CAAcf,GAAGY,CAAH,CAAKZ,GAAGgB,eAAH,EAAL,EAA2BhB,GAAGgB,eAAH,EAA3B,CAAd,CAAT,EAA0E,KAAKR,MAA/E,CAAhB;;AAEA,YAAIS,UAAUjB,GAAGkB,IAAH,CAAQlB,GAAGY,CAAH,CAAK,KAAKP,MAAV,EAAkB,KAAKC,MAAvB,CAAR,EAAwCO,SAAxC,CAAd;;AAEA,YAAIM,SAASnB,GAAGoB,aAAH,CAAiBpB,GAAGqB,QAAH,CAC1BrB,GAAGsB,MAAH,CAAUZ,EAAV,EAAcO,OAAd,CAD0B,EAE1BjB,GAAGsB,MAAH,CAAUZ,EAAV,EAAcV,GAAGc,KAAH,CAASG,OAAT,EAAkB,CAAC,CAAnB,CAAd,CAF0B,CAAjB,CAAb;;AAKA,aAAKM,IAAL,CAAUC,SAAV,CAAoBL,MAApB;AACH,KAvBI;;AAyBL;AACAM,YAAQ,kBAAW;AACf,aAAKhB,UAAL;AACH;;AAED;AACA;;AAEA;AAjCK,CAAT","file":"BgRandomMove.js","sourceRoot":"../../../../assets/script","sourcesContent":["\r\n\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        totalX: 1,\r\n        totalY: 1,\r\n        speed: 20,\r\n        offset: 10,\r\n    },\r\n\r\n    //随机移动\r\n    randomMove: function() {\r\n        let dt = cc.pLength(cc.p(this.totalX, this.totalY)) / this.speed;\r\n        let randomDir = cc.pMult(cc.pNormalize(cc.p(cc.randomMinus1To1(), cc.randomMinus1To1())), this.offset);\r\n\r\n        let moveDir = cc.pAdd(cc.p(this.totalX, this.totalY), randomDir);\r\n\r\n        let action = cc.repeatForever(cc.sequence(\r\n            cc.moveBy(dt, moveDir),\r\n            cc.moveBy(dt, cc.pMult(moveDir, -1))\r\n        ));\r\n\r\n        this.node.runAction(action);\r\n    },\r\n\r\n    // use this for initialization\r\n    onLoad: function() {\r\n        this.randomMove()\r\n    },\r\n\r\n    // called every frame, uncomment this function to activate update callback\r\n    // update: function (dt) {\r\n\r\n    // },\r\n});"]}