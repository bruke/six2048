{"version":3,"sources":["../../../../../assets/script/scenes/assets/script/scenes/LoadingScene.js"],"names":["cc","Class","extends","Component","properties","onLoad","view","enableRetina","myAssets","resList","count","i","dirName","loader","loadResDir","err","assets","log","length","director","loadScene","bind"],"mappings":";;;;;;AAEAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY,EAHP;;AAOL;AACAC,UARK,oBAQK;AAAA;;AACN;AACAL,WAAGM,IAAH,CAAQC,YAAR,CAAqB,KAArB;AACA;AACAP,WAAGQ,QAAH,GAAc,EAAd;;AAEA,YAAIC,UAAU;AACV;AACA,cAFU;AAGV;AACA,iBAJU,EAKV,OALU,EAMV,OANU,CAAd;;AASA;AACA,YAAIC,QAAQ,CAAZ;;AAhBM,mCAiBGC,CAjBH;AAkBF,gBAAIC,UAAUH,QAAQE,CAAR,CAAd;AACAX,eAAGa,MAAH,CAAUC,UAAV,CAAqBL,QAAQE,CAAR,CAArB,EAAiC,UAAUA,CAAV,EAAaI,GAAb,EAAkBC,MAAlB,EAA0B;AACvDhB,mBAAGQ,QAAH,CAAYC,QAAQE,CAAR,CAAZ,IAA0BK,MAA1B;AACAN;;AAEAV,mBAAGiB,GAAH,CAAO,aAAaL,OAApB;;AAEA,oBAAIF,SAASD,QAAQS,MAArB,EAA6B;AACzB;AACA;AACA;AACA;;;AAGA;AACAlB,uBAAGmB,QAAH,CAAYC,SAAZ,CAAsB,YAAtB;AACH;AACJ,aAhBgC,CAgB/BC,IAhB+B,QAgBpBV,CAhBoB,CAAjC;AAnBE;;AAiBN,aAAK,IAAIA,IAAI,CAAb,EAAgBA,IAAIF,QAAQS,MAA5B,EAAoCP,GAApC,EAAyC;AAAA,kBAAhCA,CAAgC;AAmBxC;AACJ;AA7CI;;AA+CL;AACA;;AAEA;AAlDJ","file":"LoadingScene.js","sourceRoot":"../../../../../assets/script/scenes","sourcesContent":["\r\n\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        \r\n    },\r\n\r\n    // use this for initialization\r\n    onLoad () {\r\n        //cc.log(\"开始加载资源\");\r\n        cc.view.enableRetina(false);\r\n        // cc.view.enableAutoFullScreen(true)\r\n        cc.myAssets = {};\r\n\r\n        let resList = [\r\n            //\"sounds\",\r\n            \"pics\",\r\n            //\"views\",\r\n            \"prefabs\",\r\n            \"fonts\",\r\n            \"anims\",\r\n        ];\r\n\r\n        // 加载目录下所有资源\r\n        var count = 0;\r\n        for (let i = 0; i < resList.length; i++) {\r\n            let dirName = resList[i];\r\n            cc.loader.loadResDir(resList[i], function (i, err, assets) {\r\n                cc.myAssets[resList[i]] = assets;\r\n                count++;\r\n\r\n                cc.log(\"资源加载完成: \" + dirName);\r\n\r\n                if (count >= resList.length) {\r\n                    //为了前置加载音效，这里直接为这个场景添加所有声音的组件\r\n                    // for (var j = 0; j < soundResList.length; j++) {\r\n                    //     cc.audioEngine.playEffect(cc.url.raw(soundResList[j]), false, 0)\r\n                    // }\r\n\r\n\r\n                    //开始游戏\r\n                    cc.director.loadScene(\"startScene\");\r\n                }\r\n            }.bind(this, i))\r\n        }\r\n    },\r\n\r\n    // called every frame, uncomment this function to activate update callback\r\n    // update (dt) {\r\n\r\n    // },\r\n});\r\n"]}